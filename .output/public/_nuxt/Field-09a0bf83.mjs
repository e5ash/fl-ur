import y from"./Icon-99a710f8.mjs";import{I as k,_ as V,o,c as r,r as t,g as i,b as u,t as p,i as v,v as $,j as g,n as h,a as c,k as m,l as F}from"./entry-f900561f.mjs";var d={mods:{init(e){if(!e.mode)return!1;let l=e.$options.name;l=l.toLowerCase(),e.block=l;let a=[];e.mode.split(", ").forEach(n=>{a.push(e.block+"_"+n)}),e.mods=a},add(e,l){let a=e.block+"_"+l;e.mods.indexOf(a)<0&&e.mods.push(a)},remove(e,l){let a=e.block+"_"+l,n=e.mods.indexOf(a);n>=0&&e.mods.splice(n,1)},include(e,l){let a=e.block+"_"+l;return e.mods.indexOf(a)>=0}}};let b={10:"\u041E\u0448\u0438\u0431\u043A\u0430, ### \u043D\u0435 \u0432\u0432\u0435\u0434\u0435\u043D.",20:"\u041E\u0448\u0438\u0431\u043A\u0430, \u043F\u043E\u0447\u0442\u0430 \u0432\u0432\u0435\u0434\u0435\u043D\u0430 \u043D\u0435 \u0432\u0435\u0440\u043D\u043E.",30:"\u041E\u0448\u0438\u0431\u043A\u0430, \u0442\u0435\u043B\u0435\u0444\u043E\u043D \u0432\u0432\u0435\u0434\u0435\u043D \u043D\u0435 \u0432\u0435\u0440\u043D\u043E.",40:"\u041D\u0430\u0434\u0435\u0436\u043D\u044B\u0439",41:"\u041D\u0435 \u043D\u0430\u0434\u0435\u0436\u043D\u044B\u0439",42:"\u041D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u044B\u0439"};function w(e,l){let a=b[e];return l&&(a=String(a).replace("###",l.toLowerCase())),console.log(a),a}var A={name:"Field",data(){return{value:"",typeArea:"text",isEmpty:!0,isVisible:!1,isValid:3,isFocus:!1,isFilled:!1,errorValue:0,mods:[],cls:{focus:"focus",filled:"filled",valid:"valid",error:"error",validHidden:"field__value_hidden",iconHidden:"field__icon_hidden"}}},methods:{getError:w,handleClick(e){if(e.target==this.$refs.area||e.target.closest(".field__clear")||d.mods.include(this,this.cls.focus))return d.mods.remove(this,this.cls.filled),!1;this.$refs.area.focus()},handleFocusin(){if(this.readonly)return!1;this.isFocus=!0},handleFocusout(){this.isFocus=!1,this.validation&&this.validate()},handleInput(){this.value.length>0?this.isFilled=!0:this.isFilled=!1,this.validation&&this.validate()},handleKeywdown(e){this.validation=="phone"&&this.value.length>=18&&e.keyCode!=8&&e.preventDefault()},clearValue(){this.value=""},toggleVisiblePassword(){this.isVisible=!this.isVisible,this.typeArea=this.typeArea=="password"?"text":"password"},validate(){switch(this.errorValue=0,this.validation){case"name":this.value.length<3&&(this.errorValue=10);break;case"email":this.value.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||(this.errorValue=20);break;case"phone":this.value.length<18&&(this.errorValue=30);break;case"password":this.value.length<6?this.errorValue=41:this.value.length>=6&&this.value.length<=9?this.errorValue=42:this.errorValue=40;break}this.errorValue>0&&this.errorValue!=40?(this.isValid=0,d.mods.add(this,this.cls.error),d.mods.remove(this,this.cls.valid)):(this.isValid=1,d.mods.remove(this,this.cls.error),d.mods.add(this,this.cls.valid))}},created(){d.mods.init(this),this.type&&d.mods.add(this,this.type),this.type&&(this.typeArea=this.type)},mounted(){this.validation&&this.validation=="phone"&&k(this.$refs.area,{mask:"+7 (000) 000-00-00"})},watch:{value(){this.isEmpty=!this.value,this.$emit("update:val",this.value)}},props:{mode:String,type:String,name:String,val:String,placeholder:String,required:Boolean,clear:Boolean,validation:String,readonly:Boolean},emits:["update:val"]};const B={key:0,class:"field__head"},I={key:1,class:"field__title"},C={class:"field__body"},S={key:1,class:"field__icon field__icon_left"},E={class:"field__inner"},N={key:0,class:"field__placeholder"},H=["type","readonly"],M=["type","readonly"],D={key:3,class:"field__icon field__icon_right"},K={key:1,class:"field__foot"},O={class:"field__valid"},_={key:0,class:"field__valid-title"},z={key:1,class:"field__valid-password"},P=u("div",null,null,-1),R=u("div",null,null,-1),L=u("div",null,null,-1),U=[P,R,L];function Z(e,l,a,n,j,q){const f=y;return o(),r("div",{class:h(["field",[e.mods,e.isFocus?"field_focus":null,e.isFilled?"field_filled":null,e.errorValue>0?"field_error-type-"+e.errorValue:null,e.type=="textarea"?"field_textarea":null]]),onClick:l[11]||(l[11]=(...s)=>e.handleClick&&e.handleClick(...s))},[e.$slots.title||e.$slots.headBefore||e.$slots.headAfter?(o(),r("div",B,[e.$slots.headBefore?t(e.$slots,"headBefore",{key:0}):i("",!0),e.$slots.title?(o(),r("div",I,[t(e.$slots,"title")])):i("",!0),e.$slots.headAfter?t(e.$slots,"headAfter",{key:2}):i("",!0)])):i("",!0),u("div",C,[e.$slots.bodyBefore?t(e.$slots,"bodyBefore",{key:0}):i("",!0),e.$slots.iconBefore?(o(),r("div",S,[t(e.$slots,"iconBefore")])):i("",!0),u("div",E,[e.placeholder?(o(),r("div",N,p(e.placeholder),1)):i("",!0),e.type!="textarea"?v((o(),r("input",{key:1,class:"field__area",ref:"area",onFocusin:l[0]||(l[0]=(...s)=>e.handleFocusin&&e.handleFocusin(...s)),onFocusout:l[1]||(l[1]=(...s)=>e.handleFocusout&&e.handleFocusout(...s)),onInput:l[2]||(l[2]=(...s)=>e.handleInput&&e.handleInput(...s)),onKeydown:l[3]||(l[3]=(...s)=>e.handleKeywdown&&e.handleKeywdown(...s)),type:e.typeArea,"onUpdate:modelValue":l[4]||(l[4]=s=>e.value=s),name:"name",readonly:e.readonly},null,40,H)),[[$,e.value]]):v((o(),r("textarea",{key:2,class:"field__area",ref:"area",onFocusin:l[5]||(l[5]=(...s)=>e.handleFocusin&&e.handleFocusin(...s)),onFocusout:l[6]||(l[6]=(...s)=>e.handleFocusout&&e.handleFocusout(...s)),onInput:l[7]||(l[7]=(...s)=>e.handleInput&&e.handleInput(...s)),type:e.typeArea,"onUpdate:modelValue":l[8]||(l[8]=s=>e.value=s),name:"name",readonly:e.readonly},null,40,M)),[[g,e.value]])]),e.clear==!0?(o(),r("div",{key:2,class:h(["field__clear field__icon field__icon_right",e.isEmpty?e.cls.iconHidden:null]),onClick:l[9]||(l[9]=(...s)=>e.clearValue&&e.clearValue(...s))},[c(f,{name:"cross-round"})],2)):i("",!0),e.$slots.iconAfter?(o(),r("div",D,[t(e.$slots,"iconAfter")])):i("",!0),e.validation?(o(),r("div",{key:4,class:h(["field__icon field__icon_right",e.isFocus?e.cls.iconHidden:null])},[e.isValid==1?(o(),m(f,{key:0,name:"check-round",class:"f-green"})):e.isValid==0?(o(),m(f,{key:1,name:"alert",class:"f-red"})):i("",!0)],2)):i("",!0),e.type=="password"?(o(),r("div",{key:5,class:h(["field__visible field__icon field__icon_right",e.isFocus?null:e.cls.iconHidden]),onClick:l[10]||(l[10]=(...s)=>e.toggleVisiblePassword&&e.toggleVisiblePassword(...s))},[e.isVisible?(o(),m(f,{key:1,name:"eye-line"})):(o(),m(f,{key:0,name:"eye"}))],2)):i("",!0),e.$slots.bodyAfter?t(e.$slots,"bodyAfter",{key:6}):i("",!0)]),e.$slots.footBefore||e.$slots.footAfter||e.validation?(o(),r("div",K,[e.$slots.footBefore?t(e.$slots,"footBefore",{key:0}):i("",!0),v(u("div",O,[e.errorValue!=0||e.errorValue==40?(o(),r("div",_,p(e.getError(e.errorValue,e.placeholder?e.placeholder:null)),1)):i("",!0),e.errorValue>=40&&e.errorValue<=49?(o(),r("div",z,U)):i("",!0)],512),[[F,e.errorValue!=0]]),e.$slots.footAfter?t(e.$slots,"footAfter",{key:1}):i("",!0)])):i("",!0)],2)}var J=V(A,[["render",Z]]);export{J as default};

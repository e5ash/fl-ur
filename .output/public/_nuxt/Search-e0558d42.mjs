import k from"./Field-09a0bf83.mjs";import y from"./Button-f9a60a36.mjs";import S from"./Icon-99a710f8.mjs";import{u as L,f as b,q as R,z as h,C as v,_ as V,o as a,c as o,b as s,a as c,w as m,F as _,m as d,h as i,t as n,g as r,n as O,e as B}from"./entry-f900561f.mjs";var M={name:"Search",setup(){return{isSearchOpen:L("isSearchOpen")}},data(){return{value:"",popular:["VW \u0442\u0443\u0431\u0438\u043D\u0430 123412","\u0421\u0443\u043F\u0435\u0440 \u043A\u0438\u0442 \u0434\u043B\u044F \u043C\u043E\u0435\u0433\u043E \u0442\u0438\u0433\u0443\u0430\u043D\u0430","REVO"],last:[],results:["GAZ 311055","BWM model 3321","REVO Kit golf","Toyota RAV4","Mitsubishi Outlander","Lada XRAY","Nissan Skyline","Hyundai Creta","Mitsubishi Lancer","Renault Duster"],classShow:"search_show",length:0}},methods:{toLink:b,toPriceFormat:R,setStorage:h,getStorage:v,sortResults(){let e=String(this.value).toLowerCase();this.sortedResults=[],this.length=0,this.results.filter(l=>{l.toLowerCase().indexOf(e)>=0&&(this.sortedResults.push(l),this.length++)}),this.sortedResults=this.sortedResults.splice(0,5)},setValue(e){this.last.push(e),h("search-last",this.last),this.toLink("/search"),this.isSearchOpen=!1},submitForm(){this.value&&(this.last.push(this.value),h("search-last",this.last),this.toLink("/search"),this.isSearchOpen=!1)}},watch:{value(){this.sortResults()}},mounted(){let e=v("search-last");e&&(this.last=e.splice(0,3).sort())}};const $={class:"search__area"},F=s("svg",{style:{"padding-top":"2px"},width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"10.8958",cy:"10.8949",r:"9.20833",stroke:"#262626","stroke-width":"2"}),B(),s("rect",{x:"16.0508",y:"18.1133",width:"2.91667",height:"10.2083",transform:"rotate(-45 16.0508 18.1133)",fill:"#262626"})],-1),Z=s("span",null,"\u041E\u0442\u043C\u0435\u043D\u0430",-1),N={class:"search__inner"},E={key:0,class:"search__last"},A=s("div",{class:"search__popular-title"},"\u0420\u0430\u043D\u0435\u0435 \u0432\u044B \u0438\u0441\u043A\u0430\u043B\u0438",-1),z={class:"search__popular-list"},D=["onClick"],P=s("div",{class:"search__popular-icon search__item-icon"},[s("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{opacity:"0.3","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8556 11.795C11.8556 11.795 15.3464 15.2857 16.0303 15.9697L14.9697 17.0303L10.7089 12.7695C9.666 13.4678 8.4118 13.875 7.0625 13.875C3.43813 13.875 0.5 10.9369 0.5 7.3125C0.5 3.68813 3.43813 0.75 7.0625 0.75C10.6869 0.75 13.625 3.68813 13.625 7.3125C13.625 9.04567 12.9531 10.6219 11.8556 11.795ZM7.0625 2.25C4.271 2.25 2 4.521 2 7.3125C2 10.104 4.271 12.375 7.0625 12.375C9.854 12.375 12.125 10.104 12.125 7.3125C12.125 4.521 9.854 2.25 7.0625 2.25Z",fill:"black"})])],-1),T={class:"search__popular-name seach__item-name"},W={key:1,class:"search__popular"},q=s("div",{class:"search__popular-title"},"\u041F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u043E",-1),G={class:"search__popular-list"},H=["onClick"],I=s("div",{class:"search__popular-icon search__item-icon"},[s("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{opacity:"0.3","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8556 11.795C11.8556 11.795 15.3464 15.2857 16.0303 15.9697L14.9697 17.0303L10.7089 12.7695C9.666 13.4678 8.4118 13.875 7.0625 13.875C3.43813 13.875 0.5 10.9369 0.5 7.3125C0.5 3.68813 3.43813 0.75 7.0625 0.75C10.6869 0.75 13.625 3.68813 13.625 7.3125C13.625 9.04567 12.9531 10.6219 11.8556 11.795ZM7.0625 2.25C4.271 2.25 2 4.521 2 7.3125C2 10.104 4.271 12.375 7.0625 12.375C9.854 12.375 12.125 10.104 12.125 7.3125C12.125 4.521 9.854 2.25 7.0625 2.25Z",fill:"black"})])],-1),K={class:"search__popular-name seach__item-name"},U={key:2,class:"search__list"},X=["onClick"],Y=s("div",{class:"search__item-icon"},[s("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{opacity:"0.3","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8556 11.795C11.8556 11.795 15.3464 15.2857 16.0303 15.9697L14.9697 17.0303L10.7089 12.7695C9.666 13.4678 8.4118 13.875 7.0625 13.875C3.43813 13.875 0.5 10.9369 0.5 7.3125C0.5 3.68813 3.43813 0.75 7.0625 0.75C10.6869 0.75 13.625 3.68813 13.625 7.3125C13.625 9.04567 12.9531 10.6219 11.8556 11.795ZM7.0625 2.25C4.271 2.25 2 4.521 2 7.3125C2 10.104 4.271 12.375 7.0625 12.375C9.854 12.375 12.125 10.104 12.125 7.3125C12.125 4.521 9.854 2.25 7.0625 2.25Z",fill:"black"})])],-1),j={class:"search__item-name"},J={class:"search__item-price"},Q=s("span",null,"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0451",-1),x={key:4,class:"search__empty"};function ee(e,l,C,se,te,ae){var u;const f=k,w=y,g=S;return a(),o("form",{class:O(["search",e.isSearchOpen?e.classShow:null]),onSubmit:l[3]||(l[3]=i((...t)=>e.submitForm&&e.submitForm(...t),["prevent"]))},[s("div",$,[c(f,{class:"search__field",mode:"md, bg-gray",type:"text",name:"field",placeholder:"\u041F\u043E\u0438\u0441\u043A \u043A\u0430\u0442\u0430\u043B\u043E\u0433\u0443",clear:!0,val:e.value,"onUpdate:val":l[0]||(l[0]=t=>e.value=t)},{iconBefore:m(()=>[F]),_:1},8,["val"]),c(w,{class:"search__button-submit",onClick:l[1]||(l[1]=t=>e.isSearchOpen=!1)},{default:m(()=>[Z]),_:1})]),s("div",N,[!e.value&&((u=e.last)==null?void 0:u.length)>0?(a(),o("div",E,[A,s("div",z,[(a(!0),o(_,null,d(e.last,t=>(a(),o("div",{class:"search__popular-item search__item",key:t,onClick:i(p=>e.setValue(t),["prevent"])},[P,s("div",T,n(t),1)],8,D))),128))])])):r("",!0),e.value?r("",!0):(a(),o("div",W,[q,s("div",G,[(a(!0),o(_,null,d(e.popular,t=>(a(),o("div",{class:"search__popular-item search__item",key:t,onClick:i(p=>e.setValue(t),["prevent"])},[I,s("div",K,n(t),1)],8,H))),128))])])),e.value?(a(),o("div",U,[(a(!0),o(_,null,d(e.sortedResults,t=>(a(),o("div",{key:t.id,class:"search__item",onClick:i(p=>e.setValue(t),["prevent"])},[Y,s("div",j,n(t),1),s("div",J,n(e.toPriceFormat(12550))+" \u20BD",1)],8,X))),128))])):r("",!0),e.value&&e.length>=5?(a(),o("a",{key:3,class:"search__more",href:"/search",onClick:l[2]||(l[2]=i(t=>e.toLink("/search"),["prevent"]))},[Q,c(g,{name:"chevron"})])):r("",!0),e.value&&e.sortedResults.length==0?(a(),o("div",x,"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E")):r("",!0)])],34)}var ne=V(M,[["render",ee]]);export{ne as default};

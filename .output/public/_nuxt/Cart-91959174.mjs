import E from"./Breadcrumb-f0a493e1.mjs";import F from"./Return-e7151eca.mjs";import N from"./Icon-99a710f8.mjs";import V from"./H1-7b092942.mjs";import L from"./T1-27276489.mjs";import z from"./Product-61f11ef5.mjs";import H from"./H3-d94b3637.mjs";import I from"./T2-5a341226.mjs";import R from"./Field-09a0bf83.mjs";import q from"./Select-09b68ac8.mjs";import j from"./Check-0e177f26.mjs";import A from"./Button-f9a60a36.mjs";import G from"./Rec-eb632faf.mjs";import J from"./Case-4978c6ed.mjs";import{u as h,q as K,f as M,C as f,z as O,_ as Q,o as s,c as r,a,w as c,k as _,g as i,b as o,e as l,t as p,F as m,m as v,n as W,D as X,E as Y}from"./entry-f900561f.mjs";import"./Share-9e009dfc.mjs";import"./Incdec-daa623aa.mjs";import"./Plus-3e645920.mjs";var Z={name:"Cart",setup(){let t=h("products"),n=h("cartCount");return{products:t,cartCount:n}},data(){return{titles:{cart:"\u041A\u043E\u0440\u0437\u0438\u043D\u0430",order:"\u041E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u043A\u0430\u0437\u0430",completed:"\u0417\u0430\u043A\u0430\u0437 \u0441\u043E\u0437\u0434\u0430\u043D"},title:"\u041A\u043E\u0440\u0437\u0438\u043D\u0430",total:0,step:1,isProductDisabled:!1,buttonText:"\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437",fields:{email:"",phone:"",address:""},delivery:{current:"",list:[{name:"\u0421\u0414\u042D\u041A"}]},pay:{name:"pay",list:[{title:"\u0421\u0431\u0435\u0440\u0431\u0430\u043D\u043A \u041E\u043D\u043B\u0430\u0439\u043D",checked:!1},{title:"\u0421\u0431\u0435\u0440\u043A\u0430\u0441\u0441\u0430",checked:!1},{title:"\u0411\u0438\u0442\u043A\u043E\u0438\u043D",checked:!1},{title:"\u042D\u0444\u0438\u0440",checked:!1}]}}},methods:{toPriceFormat:K,toLink:M,getStorage:f,setStorage:O,switchTitle(){switch(this.step){case 1:this.title=this.titles.cart,this.isProductDisabled=!1,this.buttonText="\u041E\u0444\u043E\u0440\u043C\u0438\u0442\u044C \u0437\u0430\u043A\u0430\u0437";break;case 2:this.title=this.titles.order,this.isProductDisabled=!0,this.buttonText="\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u044C";break;case 3:this.title=this.titles.completed,this.isProductDisabled=!0,this.buttonText="\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u044C",this.setStorage("cart-step",1),localStorage.removeItem("products"),this.cartCount=0,this.products=[];break}},nextStep(){if(this.products.length==0)return this.toLink("/catalog"),!1;this.step<3&&(this.step++,this.setStorage("cart-step",this.step))},prevStep(){this.step--,this.setStorage("cart-step",this.step)},calcTotalSum(){this.total=0,this.products.forEach(t=>{this.total+=t.price.current*t.count})}},mounted(){let t=f("cart-step");this.step=t?Number(t):this.step,this.switchTitle(),this.calcTotalSum()},watch:{step(){this.switchTitle()}}};const x=o("span",null,"\u041D\u0430\u0437\u0430\u0434 \u043A \u043A\u043E\u0440\u0437\u0438\u043D\u0435",-1),tt=o("span",null,"\u041D\u0430\u0437\u0430\u0434 \u043A \u043A\u043E\u0440\u0437\u0438\u043D\u0435",-1),et={class:"cart__wrap row"},st={class:"cart__left"},ot=o("p",null,[o("b",null,[l("\u0417\u0430\u043A\u0430\u0437 "),o("u",null,"#1241234")]),l(" \u0441\u043E\u0437\u0434\u0430\u043D.")],-1),nt=o("p",null,"\u0412 \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0438\u0435 \u0432\u0440\u0435\u043C\u044F \u0441 \u0432\u0430\u043C\u0438 \u0441\u0432\u044F\u0436\u0435\u0442\u0441\u044F \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440 \u0438 \u0443\u0442\u043E\u0447\u043D\u0438\u0442 \u0432\u0441\u0435 \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u043E\u0441\u0442\u0438 \u0432\u0430\u0448\u0435\u0433\u043E \u0437\u0430\u043A\u0430\u0437\u0430. ",-1),rt={key:1,class:"cart__list"},at={key:2,class:"cart__empty"},lt=o("img",{src:X,alt:""},null,-1),ct=o("span",null,"\u041E\u0439, \u0430 \u0442\u0443\u0442 \u043F\u0443\u0441\u0442\u043E...",-1),it=[lt,ct],_t={class:"cart__right"},dt={key:0,class:"cart__info"},pt={class:"cart__delivery"},mt=l("\u0423\u0441\u043B\u043E\u0432\u0438\u044F \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0438 \u043E\u043F\u043B\u0430\u0442\u044B"),ut=l("\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0432\u0432\u0438\u0434\u0443 \u0441\u0432\u043E\u0435\u0433\u043E \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0441\u043D\u043E\u0433\u043E \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0430 \u0441\u043E\u0447\u0435\u0442\u0430\u044E\u0442 \u0432 \u0441\u0435\u0431\u0435 \u0432\u044B\u0433\u043E\u0434\u0443 \u043F\u0440\u0438 \u0437\u0430\u0442\u0440\u0430\u0442\u0430\u0445 \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0438 \u043F\u043E\u043B\u043D\u043E\u0442\u0443 \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0432\u0430\u043C\u0438 \u0443\u0440\u043E\u0432\u043D\u044F \u0443\u0441\u043E\u0432\u0435\u0440\u0448\u0435\u043D\u0441\u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F.\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0432\u0432\u0438\u0434\u0443 \u0441\u0432\u043E\u0435\u0433\u043E \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0441\u043D\u043E\u0433\u043E \u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0430 \u0441\u043E\u0447\u0435\u0442\u0430\u044E\u0442 \u0432 \u0441\u0435\u0431\u0435 \u0432\u044B\u0433\u043E\u0434\u0443 \u043F\u0440\u0438 \u0437\u0430\u0442\u0440\u0430\u0442\u0430\u0445 \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0438 "),ht={key:1,class:"cart__order"},ft=l("Email"),vt=l("\u0422\u0435\u043B\u0435\u0444\u043E\u043D"),kt=l("\u0410\u0434\u0440\u0435\u0441 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438"),yt={class:"cart__checks"},bt=o("div",{class:"cart__checks-title"},"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B",-1),gt={class:"cart__checks-list"},St={key:0,class:"cart__price"},Ct=l("\u0418\u0442\u043E\u0433\u043E: "),Tt=l(),wt=o("span",{class:"r"},null,-1),$t={key:3,class:"cart__bg"},Pt=o("img",{src:Y,alt:""},null,-1),Dt=[Pt];function Bt(t,n,Ut,Et,Ft,Nt){const k=E,y=F,u=N,b=V,g=L,S=z,C=H,T=I,d=R,w=q,$=j,P=A,D=G,B=J;return s(),r("div",{class:W(["cart",t.step==3?"cart_order":null])},[a(B,{class:"case_sm"},{default:c(()=>[t.step==1?(s(),_(k,{key:0,class:"cart__breadcrumb hidden-xs"})):i("",!0),t.step==1?(s(),_(y,{key:1,class:"cart__return hidden show-xs-flex"})):i("",!0),t.step==2?(s(),r("div",{key:2,class:"cart__return",onClick:n[0]||(n[0]=(...e)=>t.prevStep&&t.prevStep(...e))},[a(u,{name:"chevron",class:"f-red"}),x])):i("",!0),t.step==3?(s(),r("div",{key:3,class:"cart__return",onClick:n[1]||(n[1]=e=>t.step=1)},[a(u,{name:"chevron",class:"f-red"}),tt])):i("",!0),o("div",et,[o("div",st,[a(b,{class:"cart__title"},{default:c(()=>[l(p(t.title),1)]),_:1}),t.step==3?(s(),_(g,{key:0,class:"cart__added"},{default:c(()=>[ot,nt]),_:1})):t.products.length>0?(s(),r("div",rt,[(s(!0),r(m,null,v(t.products,e=>(s(),_(S,{key:e.title,element:e,class:"product_row cart__item",incdec:!0,remove:!0,disabled:t.isProductDisabled,onClick:t.calcTotalSum},null,8,["element","disabled","onClick"]))),128))])):(s(),r("div",at,it))]),o("div",_t,[t.step==1?(s(),r("div",dt,[o("div",pt,[a(C,{class:"cart__delivery-title"},{default:c(()=>[mt]),_:1}),a(T,{class:"cart__delivery-text"},{default:c(()=>[ut]),_:1})])])):t.step==2?(s(),r("div",ht,[a(d,{class:"cart__field",mode:"sm, b-gray",validation:"email",placeholder:"example@email.com",val:t.fields.email,"onUpdate:val":n[2]||(n[2]=e=>t.fields.email=e)},{title:c(()=>[ft]),_:1},8,["val"]),a(d,{class:"cart__field",mode:"sm, b-gray",validation:"phone",placeholder:"+7 888 888 88 88",val:t.fields.phone,"onUpdate:val":n[3]||(n[3]=e=>t.fields.phone=e)},{title:c(()=>[vt]),_:1},8,["val"]),a(d,{class:"cart__field",mode:"sm, b-gray",placeholder:"\u041C\u043E\u0441\u043A\u0432\u0430, \u0443\u043B. \u0410\u043A\u0430\u0434\u0435\u043C\u0438\u043A\u0430 \u043A\u043E\u0440\u043E\u043B\u0435\u0432\u0430, 132 \u0432, 343",val:t.fields.address,"onUpdate:val":n[4]||(n[4]=e=>t.fields.address=e)},{title:c(()=>[kt]),_:1},8,["val"]),a(w,{class:"cart__select",mods:"sm, b-gray",title:"\u0421\u043F\u043E\u0441\u043E\u0431 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438",placeholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043F\u043E\u0441\u043E\u0431 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438",options:t.delivery.list,val:t.delivery.current,"onUpdate:val":n[5]||(n[5]=e=>t.delivery.current=e),disabled:!1},null,8,["options","val"]),o("div",yt,[bt,o("div",gt,[(s(!0),r(m,null,v(t.pay.list,e=>(s(),_($,{key:e.id,class:"cart__checks-item check_md check_gray",value:e.title,group:t.pay.name,checked:e.checked,"onUpdate:checked":U=>e.checked=U},null,8,["value","group","checked","onUpdate:checked"]))),128))])])])):i("",!0),t.step<3?(s(),r(m,{key:2},[t.products.length>0?(s(),r("div",St,[Ct,o("var",null,p(t.toPriceFormat(t.total)),1),Tt,wt])):i("",!0),a(P,{class:"cart__button-order",mods:"md, bg-red",onClick:t.nextStep},{default:c(()=>[l(p(t.products.length==0?"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043A\u0430\u0442\u0430\u043B\u043E\u0433":t.buttonText),1)]),_:1},8,["onClick"])],64)):(s(),r("div",$t,Dt))]),t.products.length==0?(s(),_(D,{key:0,class:"cart__rec hidden show-xs",title:"\u041C\u043E\u0436\u0435\u0442 \u0447\u0442\u043E-\u0442\u043E \u0442\u0430\u043A\u043E\u0435?",length:4})):i("",!0)])]),_:1})],2)}var Zt=Q(Z,[["render",Bt]]);export{Zt as default};
